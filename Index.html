<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Premium Video Player for Telegram</title>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;700&display=swap" rel="stylesheet">
  
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <!-- Adexora Ads Script -->
  <script src="https://adexora.com/cdn/ads.js?id=648"></script>

  <style>
    :root {
      --bg-color: #121212;
      --primary-surface-color: #1e1e1e;
      --secondary-surface-color: #272727;
      --text-primary: #f1f1f1;
      --text-secondary: #aaa;
      --accent-color: #3ea6ff;
      --hover-bg-color: #333;
      --scrollbar-thumb-color: #555;
      --scrollbar-track-color: var(--primary-surface-color);
      --locked-overlay-color: rgba(0, 0, 0, 0.6);
      --lock-icon-color: #fff;
    }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: 'Hind Siliguri', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-primary);
    }

    .app-container {
      display: flex;
      height: 100vh;
      width: 100%;
      opacity: 0; /* Initially hidden for login */
      transition: opacity 0.5s ease-in-out;
    }
    
    .app-container.visible {
      opacity: 1;
    }

    .login-screen {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-size: 1.2rem;
    }

    /* Player Section */
    .player-section {
      flex: 3;
      display: flex;
      flex-direction: column;
      background-color: #000;
    }

    .player-wrapper {
      position: relative;
      width: 100%;
      background-color: #000;
      aspect-ratio: 16 / 9;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .player-wrapper iframe,
    .player-wrapper video {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .loading-indicator, .error-message {
      font-size: 1.2rem;
      color: var(--text-secondary);
    }

    /* Playlist Section */
    .playlist-section {
      flex: 1;
      display: flex;
      flex-direction: column;
      background-color: var(--primary-surface-color);
      overflow-y: auto;
      padding: 16px 8px;
    }
    
    .playlist-header {
        font-size: 1.1rem;
        font-weight: 700;
        padding: 0 8px 16px 8px;
        color: var(--text-primary);
        border-bottom: 1px solid var(--secondary-surface-color);
        margin-bottom: 16px;
    }
    
    .welcome-message {
        font-size: 0.9rem;
        color: var(--text-secondary);
        padding: 0 8px 10px;
    }

    .video-feed {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .video-card {
      cursor: pointer;
      display: flex;
      gap: 12px;
      padding: 8px;
      border-radius: 8px;
      transition: background-color 0.2s ease-in-out;
      border: 2px solid transparent;
      position: relative;
    }

    .video-card:hover {
      background-color: var(--hover-bg-color);
    }
    
    .video-card.active {
      background-color: var(--secondary-surface-color);
      border-color: var(--accent-color);
    }
    
    /* Locked Video Styles */
    .video-card.locked .thumbnail-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--locked-overlay-color);
        border-radius: 8px;
        z-index: 1;
    }
    .video-card.locked .thumbnail-container::after {
        content: 'üîí';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 24px;
        color: var(--lock-icon-color);
        z-index: 2;
    }

    .thumbnail-container {
      position: relative;
      width: 140px;
      flex-shrink: 0;
    }
    
    .video-card.active .thumbnail-container::after {
        content: '‚ñ∂ ‡¶è‡¶ñ‡¶® ‡¶ö‡¶≤‡¶õ‡ßá';
        position: absolute;
        bottom: 5px;
        left: 5px;
        background-color: var(--accent-color);
        color: #fff;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 10px;
        font-weight: 700;
        z-index: 3;
    }

    /* Ensure active card doesn't show lock icon */
    .video-card.active.locked .thumbnail-container::after {
        content: '‚ñ∂ ‡¶è‡¶ñ‡¶® ‡¶ö‡¶≤‡¶õ‡ßá';
    }


    .thumbnail-container img {
      width: 100%;
      aspect-ratio: 16 / 9;
      object-fit: cover;
      display: block;
      border-radius: 8px;
    }

    .video-duration {
      position: absolute;
      bottom: 5px;
      right: 5px;
      background-color: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      z-index: 3;
    }
    
    .video-card.active .video-duration {
        display: none;
    }

    .video-meta {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      padding-top: 4px;
      overflow: hidden;
    }

    .video-title {
      font-size: 15px;
      font-weight: 500;
      color: var(--text-primary);
      margin: 0 0 6px 0;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .video-info {
      font-size: 13px;
      color: var(--text-secondary);
    }

    /* Unlock Modal Styles */
    .unlock-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }
    
    .unlock-modal {
        background-color: var(--primary-surface-color);
        padding: 24px;
        border-radius: 12px;
        text-align: center;
        width: 90%;
        max-width: 350px;
        border: 1px solid var(--secondary-surface-color);
    }

    .unlock-modal h3 {
        margin-top: 0;
        color: var(--text-primary);
    }
    
    .unlock-modal p {
        color: var(--text-secondary);
        margin-bottom: 20px;
    }
    
    .unlock-modal .ad-progress {
        font-weight: 700;
        color: var(--accent-color);
        font-size: 1.1rem;
        margin-bottom: 24px;
    }
    
    .unlock-modal button {
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 8px;
        font-family: 'Hind Siliguri', sans-serif;
        font-size: 1rem;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    
    .watch-ad-btn {
        background-color: var(--accent-color);
        color: white;
        margin-bottom: 10px;
    }
    
    .watch-ad-btn:hover {
        background-color: #3592e2;
    }

    .watch-ad-btn:disabled {
        background-color: #555;
        cursor: not-allowed;
    }
    
    .close-modal-btn {
        background-color: var(--secondary-surface-color);
        color: var(--text-primary);
    }
    
    .close-modal-btn:hover {
        background-color: var(--hover-bg-color);
    }

    /* Custom Scrollbar */
    .playlist-section::-webkit-scrollbar {
      width: 8px;
    }
    .playlist-section::-webkit-scrollbar-track {
      background: var(--scrollbar-track-color);
    }
    .playlist-section::-webkit-scrollbar-thumb {
      background-color: var(--scrollbar-thumb-color);
      border-radius: 10px;
      border: 2px solid var(--scrollbar-track-color);
    }

    /* Responsive adjustments */
    @media (max-width: 850px) {
      .app-container {
        flex-direction: column;
        height: auto;
        overflow: auto;
      }
      .player-section, .playlist-section {
        flex: none;
        width: 100%;
      }
      .playlist-section {
        height: auto;
        max-height: 60vh;
      }
      .thumbnail-container {
        width: 120px;
      }
    }
  </style>
</head>
<body>

  <div class="login-screen" id="login-screen">
      <div class="loading-indicator">‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
  </div>

  <div class="app-container" id="app-container">
    <div class="player-section">
      <div class="player-wrapper" id="player-container"></div>
    </div>
    <div class="playlist-section">
      <div class="playlist-header">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</div>
      <div class="welcome-message" id="welcome-message"></div>
      <div class="video-feed" id="video-feed"></div>
    </div>
  </div>

  <!-- Unlock Modal HTML -->
  <div class="unlock-modal-overlay" id="unlock-modal-overlay">
      <div class="unlock-modal">
          <h3 id="modal-video-title">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
          <p>‡¶è‡¶á ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡ß´‡¶ü‡¶ø ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§</p>
          <div class="ad-progress" id="ad-progress">‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá: 0/5</div>
          <button class="watch-ad-btn" id="watch-ad-btn">‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
          <button class="close-modal-btn" id="close-modal-btn">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
      </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script>
    const VideoPlayerApp = {
      config: {
        videos: [],
        adsToUnlock: 5,
        unlockDurationHours: 4 
      },
      
      firebaseConfig: {
        apiKey: "AIzaSyA6JPDxbD5k1S-7bNikp6U_vFALPFl_fto",
        authDomain: "daily-paybot.firebaseapp.com",
        databaseURL: "https://daily-paybot-default-rtdb.firebaseio.com",
        projectId: "daily-paybot",
        storageBucket: "daily-paybot.firebasestorage.app",
        messagingSenderId: "962422978466",
        appId: "1:962422978466:web:43a3db97932bf82766e4fb"
      },

      state: {
        currentHlsInstance: null,
        activeVideoElement: null,
        lastTap: 0,
        telegramUser: null,
        unlockingVideoIndex: null
      },

      elements: {
        playerContainer: document.getElementById('player-container'),
        videoFeed: document.getElementById('video-feed'),
        loginScreen: document.getElementById('login-screen'),
        appContainer: document.getElementById('app-container'),
        welcomeMessage: document.getElementById('welcome-message'),
        // Modal elements
        unlockModalOverlay: document.getElementById('unlock-modal-overlay'),
        modalVideoTitle: document.getElementById('modal-video-title'),
        adProgress: document.getElementById('ad-progress'),
        watchAdBtn: document.getElementById('watch-ad-btn'),
        closeModalBtn: document.getElementById('close-modal-btn'),
      },
      
      init() {
        this.handleTelegramLogin();
        this.addModalListeners();
      },
      
      addModalListeners() {
        this.elements.watchAdBtn.onclick = () => this.handleWatchAd();
        this.elements.closeModalBtn.onclick = () => this.hideUnlockModal();
      },

      handleTelegramLogin() {
          const tg = window.Telegram.WebApp;
          tg.ready();

          if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
              this.state.telegramUser = tg.initDataUnsafe.user;
              this.elements.welcomeMessage.innerText = `‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, ${this.state.telegramUser.first_name}!`;
              this.initializeFirebase();
          } else {
              this.elements.loginScreen.innerHTML = `<div class="error-message">‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§ ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶•‡ßá‡¶ï‡ßá ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®‡•§</div>`;
          }
      },
      
      initializeFirebase() {
        firebase.initializeApp(this.firebaseConfig);
        const db = firebase.database();
        const videosRef = db.ref('/videos');

        videosRef.on('value', (snapshot) => {
            const data = snapshot.val();
            if (data && Array.isArray(data)) {
                this.config.videos = data.filter(video => video && video.url);
                this.showApp();
            } else {
                this.elements.loginScreen.innerHTML = `<div class="error-message">‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§</div>`;
            }
        }, (error) => {
            this.elements.loginScreen.innerHTML = `<div class="error-message">‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§</div>`;
            console.error("Firebase read failed: " + error.code);
        });
      },

      showApp() {
        this.elements.loginScreen.style.display = 'none';
        this.elements.appContainer.classList.add('visible');

        this.renderVideoFeed();
        if (this.config.videos.length > 0) {
            this.loadVideo(0, true);
        } else {
             this.elements.playerContainer.innerHTML = `<div class="error-message">‡¶ï‡ßã‡¶®‡ßã ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶®‡ßá‡¶á‡•§</div>`;
        }
        this.addDoubleTapListener();
      },

      renderVideoFeed() {
        this.elements.videoFeed.innerHTML = '';
        this.config.videos.forEach((video, index) => {
          if (!video.url) return;
          const card = document.createElement('div');
          card.className = 'video-card';

          const isLocked = this.isVideoLocked(index);
          if (isLocked) {
              card.classList.add('locked');
          }

          card.onclick = () => this.handleVideoClick(index);
          card.innerHTML = `
            <div class="thumbnail-container">
              <img src="${video.thumbnail}" alt="${video.title}" loading="lazy">
              <span class="video-duration">${video.duration}</span>
            </div>
            <div class="video-meta">
              <h3 class="video-title">${video.title}</h3>
              <div class="video-info">${video.channel}</div>
            </div>`;
          this.elements.videoFeed.appendChild(card);
        });
      },
      
      handleVideoClick(index) {
          if (this.isVideoLocked(index)) {
              this.showUnlockModal(index);
          } else {
              this.loadVideo(index, true);
          }
      },

      loadVideo(index, autoplay = false) {
        if (this.state.currentHlsInstance) {
          this.state.currentHlsInstance.destroy();
        }
        this.state.currentHlsInstance = null;
        this.state.activeVideoElement = null;
        this.elements.playerContainer.innerHTML = `<div class="loading-indicator">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>`;
        this.highlightActiveCard(index);

        const videoData = this.config.videos[index];
        const url = videoData.url;

        if (this.isVideoType(url, 'direct')) {
          this.createDirectVideoPlayer(url, autoplay);
        } else if (this.isVideoType(url, 'hls')) {
          this.createHlsPlayer(url, autoplay);
        } else {
          this.createIframePlayer(url, autoplay);
        }
      },
      
      createIframePlayer(url, autoplay) {
        const iframe = document.createElement('iframe');
        const urlObj = new URL(url);
        if (autoplay) {
            urlObj.searchParams.set('autoplay', '1');
            urlObj.searchParams.set('muted', '1');
        }
        iframe.src = urlObj.toString();
        iframe.allow = 'autoplay; fullscreen; picture-in-picture';
        iframe.setAttribute('allowfullscreen', '');
        
        this.elements.playerContainer.innerHTML = '';
        this.elements.playerContainer.appendChild(iframe);
      },

      createHlsPlayer(url, autoplay) {
        const video = this.createVideoElement(autoplay);
        this.elements.playerContainer.innerHTML = ''; 

        if (Hls.isSupported()) {
          const hls = new Hls();
          hls.loadSource(url);
          hls.attachMedia(video);
          this.state.currentHlsInstance = hls;
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
          video.src = url;
        } else {
          this.elements.playerContainer.innerHTML = `<div class="error-message">HLS ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§</div>`;
          return;
        }
        
        this.elements.playerContainer.appendChild(video);
        this.state.activeVideoElement = video;
      },

      createDirectVideoPlayer(url, autoplay) {
        const video = this.createVideoElement(autoplay);
        video.src = url;
        
        this.elements.playerContainer.innerHTML = '';
        this.elements.playerContainer.appendChild(video);
        this.state.activeVideoElement = video;
      },
      
      createVideoElement(autoplay) {
        const video = document.createElement('video');
        video.autoplay = autoplay;
        video.muted = true;
        video.playsInline = true;
        video.controls = true;
        video.preload = 'metadata'; 
        return video;
      },

      addDoubleTapListener() {
        this.elements.playerContainer.addEventListener('touchend', (e) => {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - this.state.lastTap;
            if (tapLength < 300 && tapLength > 0) {
                if (!this.state.activeVideoElement) return;

                const rect = e.target.getBoundingClientRect();
                const tapPosition = (e.changedTouches[0].clientX - rect.left) / rect.width;

                if (tapPosition > 0.5) {
                    this.state.activeVideoElement.currentTime += 10;
                } else {
                    this.state.activeVideoElement.currentTime -= 10;
                }
                e.preventDefault();
            }
            this.state.lastTap = currentTime;
        });
      },

      highlightActiveCard(index) {
        const allCards = this.elements.videoFeed.querySelectorAll('.video-card');
        allCards.forEach((card, i) => {
          card.classList.toggle('active', i === index);
        });
      },

      isVideoType(url, type) {
        const patterns = {
          hls: /\.m3u8(\?|$)/i,
          direct: /\.(mp4|webm|ogg)(\?|$)/i
        };
        return patterns[type] ? patterns[type].test(url) : false;
      },

      // --- Unlock Logic ---

      isVideoLocked(index) {
        if (index === 0) return false; // First video is always free

        const videoStatus = this.getVideoStatus(index);
        if (!videoStatus.unlocked) return true;

        const now = new Date().getTime();
        const unlockTime = videoStatus.timestamp;
        const expiryTime = this.config.unlockDurationHours * 60 * 60 * 1000;
        
        return (now - unlockTime) > expiryTime;
      },

      getVideoStatus(index) {
          try {
              const status = JSON.parse(localStorage.getItem(`video_${index}_status`));
              return status || { unlocked: false, timestamp: 0 };
          } catch (e) {
              return { unlocked: false, timestamp: 0 };
          }
      },

      setVideoUnlocked(index) {
          const status = { unlocked: true, timestamp: new Date().getTime() };
          localStorage.setItem(`video_${index}_status`, JSON.stringify(status));
          // Reset ad count after successful unlock
          localStorage.setItem(`video_${index}_ad_count`, '0');
      },

      getAdCount(index) {
          return parseInt(localStorage.getItem(`video_${index}_ad_count`) || '0', 10);
      },

      setAdCount(index, count) {
          localStorage.setItem(`video_${index}_ad_count`, count);
      },

      showUnlockModal(index) {
          this.state.unlockingVideoIndex = index;
          const adCount = this.getAdCount(index);
          
          this.elements.modalVideoTitle.innerText = this.config.videos[index].title;
          this.elements.adProgress.innerText = `‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá: ${adCount}/${this.config.adsToUnlock}`;
          this.elements.unlockModalOverlay.style.display = 'flex';
          this.elements.watchAdBtn.disabled = false;
          this.elements.watchAdBtn.innerText = '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
      },
      
      hideUnlockModal() {
          this.elements.unlockModalOverlay.style.display = 'none';
          this.state.unlockingVideoIndex = null;
      },
      
      handleWatchAd() {
          const index = this.state.unlockingVideoIndex;
          if (index === null) return;

          this.elements.watchAdBtn.disabled = true;
          this.elements.watchAdBtn.innerText = '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';

          window.showAdexora()
            .then(() => {
                // Ad watched successfully
                const currentCount = this.getAdCount(index);
                const newCount = currentCount + 1;
                this.setAdCount(index, newCount);

                this.elements.adProgress.innerText = `‡¶¶‡ßá‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá: ${newCount}/${this.config.adsToUnlock}`;

                if (newCount >= this.config.adsToUnlock) {
                    this.setVideoUnlocked(index);
                    this.hideUnlockModal();
                    this.renderVideoFeed(); // Re-render to show unlocked status
                    this.loadVideo(index, true);
                } else {
                    this.elements.watchAdBtn.disabled = false;
                    this.elements.watchAdBtn.innerText = '‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
                }
            })
            .catch(e => {
                // Ad failed
                alert("‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶®‡¶ü‡¶ø ‡¶≤‡ßã‡¶° ‡¶π‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
                this.elements.watchAdBtn.disabled = false;
                this.elements.watchAdBtn.innerText = '‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®';
                console.error("Ad error:", e);
            });
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
      VideoPlayerApp.init();
    });

  </script>

</body>
</html>
